!function(a){function b(){this.time=0,this.isRunning=!1,this._callback=null,this._interval=0,this.last=0}b.prototype.increase=function(a,b,c,d){var e=this;return e._curry(0)(a,b,c,d),e},b.prototype.decrease=function(a,b,c,d){var e=this;return e._curry(1)(a,b,c,d),e},b.prototype._curry=function(a){var b=this;return a&&(b._set=b.time),function(c,d,e,f){if(b.isRunning)return!1;b.isRunning=!0,b._callback=c,b._interval=d,b._tick=e||1e3,b._finish=f||function(){},b.last=a;var g=+new Date;!function h(){var f=+new Date,i=parseInt((f-g)/1e3);return c(b.time/1e3),a?b.time-=e:b.time+=e,b.time<0||d&&i>=d?(b.stop(),b._finish(),void 0):(b.times=setTimeout(function(){h()},e),void 0)}()}},b.prototype.set=function(a){var b=this;return b.isRunning?!1:(b.time=1e3*a,b._time=b.time,void 0)},b.prototype.stop=function(){var a=this;clearTimeout(a.times),a.time=null,a.isRunning=!1},b.prototype.parse=function(){var a=this;clearTimeout(a.times),a.isRunning=!1},b.prototype.restore=function(){var a=this;a.last?a.decrease(a._callback,a._interval,a._tick,a._finish):a.increase(a._callback,a._interval,a._tick,a._finish)},b.prototype.restart=function(){var a=this;a.stop(),a._time&&(a.time=a._time),a.restore()},"function"==typeof define&&define.amd?define(function(){return b}):a.Timer=b}(this);